<?xml-stylesheet href="media/svg.css" type="text/css"?>
<svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="120">
  <title>playing with SVG</title>
  <desc>Just playing around</desc>

  <defs>
    <!-- filters -->
    <filter id="dropShadow">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1" />
    </filter>

    <!-- markers: anchors -->
    <marker id="anchorToBoxMiddle" viewBox="-20 -20 40 40" refX="0" refY="0" markerUnits="strokeWidth" orient="auto" markerWidth="20" markerHeight="20">
      <circle cx="0" cy="0" r="8px" fill="#fff" stroke="#000" filter="url(#dropShadow)" />
    </marker>

    <!-- markers: categories -->
    <marker id="pool" viewBox="0 0 32 32" refX="16" refY="16" markerUnits="strokeWidth" markerWidth="32" markerHeight="32">
      <image x="0" y="0" width="32" height="32" xlink:href="https://foursquare.com/img/categories/building/gym_pool.png" />
    </marker>
    <marker id="airport" viewBox="0 0 32 32" refX="16" refY="16" markerUnits="strokeWidth" markerWidth="32" markerHeight="32">
      <image x="0" y="0" width="32" height="32" xlink:href="https://foursquare.com/img/categories/travel/airport.png" />
    </marker>
    <marker id="bar" viewBox="0 0 32 32" refX="16" refY="16" markerUnits="strokeWidth" markerWidth="32" markerHeight="32">
      <image x="0" y="0" width="32" height="32" xlink:href="https://foursquare.com/img/categories/nightlife/bar.png" />
    </marker>
  </defs>

  <g id="container" fill="#ddd" stroke="#000" onclick="changeWidth(evt)" transform="translate(0,60)">
    <g id="category-bars">
      <rect width="75%" height="50%" x="0" y="0" fill="#500">
        <animate attributeName="width" attributeType="XML" begin="mouseover" dur="0.25s" fill="freeze" to="5%" />
        <animate attributeName="width" attributeType="XML" begin="mouseout" dur="0.25s" fill="freeze" to="75%" />
      </rect>
      <line class="marker" x1="37.5%" y1="25%" x2="37.5%" y2="-25%" marker-start="url(#anchorToBoxMiddle)" marker-end="url(#bar)" />
    </g>
    <g id="category-transportation">
      <rect x="75%" y="0" width="10%" height="50%" fill="#a00">
        <animate attributeName="width" attributeType="XML" begin="mouseover" dur="0.25s" fill="freeze" to="1%" />
        <animate attributeName="width" attributeType="XML" begin="mouseout" dur="0.25s" fill="freeze" to="10%" />
      </rect>
      <line class="marker" x1="80%" y1="25%" x2="80%" y2="-25%" marker-start="url(#anchorToBoxMiddle)" marker-end="url(#pool)" />
    </g>
    <g id="category-shopping">
      <rect x="85%" y="0" width="15%" height="50%" fill="#f00">
        <animate attributeName="width" attributeType="XML" begin="mouseover" dur="0.25s" fill="freeze" to="1%" />
        <animate attributeName="width" attributeType="XML" begin="mouseout" dur="0.25s" fill="freeze" to="15%" />
      </rect>
      <line class="marker" x1="92.5%" y1="25%" x2="92.5%" y2="-25%" marker-start="url(#anchorToBoxMiddle)" marker-end="url(#airport)" />
    </g>
  </g>
</svg>
